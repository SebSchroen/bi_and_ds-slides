<!DOCTYPE html>
<html lang="de"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Dr.&nbsp;Sebastian Schrön">
  <title>Business Intelligence &amp; Data Science, SoSe 2024 - Business Intelligence &amp; Data Science</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Business Intelligence &amp; Data Science</h1>
  <p class="subtitle">Vorlesung 7</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Sebastian Schrön 
</div>
<div class="quarto-title-author-email">
<a href="mailto:sebastian.schroen.doz@leibniz-fh.de">sebastian.schroen.doz@leibniz-fh.de</a>
</div>
        <p class="quarto-title-affiliation">
            Bahlsen GmbH &amp; Co.&nbsp;KG
          </p>
        <p class="quarto-title-affiliation">
            Manager Data Science
          </p>
    </div>
</div>

</section>
<section id="der-plan-für-heute" class="slide level2">
<h2>Der Plan für heute…</h2>
<h3 id="vorlesung-7">Vorlesung 7</h3>
<ul>
<li class="fragment">Quiz und kurzes Recap logistische Regression</li>
<li class="fragment">Modellgestützte Analysen
<ul>
<li class="fragment">Weitere Modellevaluation</li>
<li class="fragment">Multiple Logistische Regression</li>
<li class="fragment">Multinominale Logistische Regression</li>
</ul></li>
</ul>
</section>
<section id="ablauf" class="slide level2">
<h2>Ablauf</h2>
<h3 id="aktualisierter-ablaufplan">Aktualisierter Ablaufplan</h3>
<div class="cell">
<div class="cell-output-display">
<table class="table" data-quarto-postprocess="true" style="font-size: 20px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Block</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Gruppe D</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Thema</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">21.03.2024:09:00 – 10:30</td>
<td style="text-align: left;">Organisation, Einleitung</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">21.03.2024:10:45 – 12:15</td>
<td style="text-align: left;">Datenbereitstellung: Data Warehousing</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">28.03.2024:13:00 – 14:30</td>
<td style="text-align: left;">Datentransformation</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">28.03.2024:14:45 – 16:15</td>
<td style="text-align: left;">Big Data und Data Lake</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">02.04.2024:13:00 – 14:30</td>
<td style="text-align: left;">Informationsgenerierung: Berichtsorientierte Analysen</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">02.04.2024:14:45 – 16:15</td>
<td style="text-align: left;">Advanced und Predictive Analytics: Grundlagen</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">15.04.2024:13:00 – 14:30</td>
<td style="text-align: left;">Advanced und Predictive Analytics: Klassifikation</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">15.04.2024:14:45 – 16:15</td>
<td style="text-align: left;">Advanced und Predictive Analytics: Klassifikation</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">02.05.2024:13:00 – 14:30</td>
<td style="text-align: left;">Restinhalte Klassifikation; Assoziationsanalyse; Probeklausur (30 Minuten)</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">02.05.2024:14:45 – 16:15</td>
<td style="text-align: left;">Besprechung Probeklausur; Evaluation; Fragen</td>
</tr>
<tr class="odd">
<td style="text-align: left;">-</td>
<td style="text-align: left;">13.05.2024:13:00 – 14:30</td>
<td style="text-align: left;">Klausur (60 Minuten)</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="logistische-regression" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="kurz-recap">Kurz-Recap</h3>
<ul>
<li class="fragment">Die logistische Regression ist ein Modell zur binären Klassifikation und erfordert die Umwandlung der abhängigen Variable in eine Dummy-Variable (0 und 1) wobei 1 die interessante Klasse darstellt</li>
<li class="fragment">Das Modell berechnet für jeden Datenpunkt eine Wahrscheinlichkeit, dass die Beobachtung zur interessanten Klasse gehört</li>
<li class="fragment">Anhand eines Cut-Off Points <span class="math inline">\(C\)</span> wird entschieden, ob die Beobachtung zur interessanten Klasse gehört</li>
<li class="fragment">Anschließend wird das Modell mit Konfusionsmatrix und Accuracy evaluiert, die einfachste und intuitivste Metrik ist, die aber Nachteile hat</li>
<li class="fragment">Precision, Recall und F1-Score beheben die Schwächen von Accuracy und werden insbesondere bei unbalancierten Datensätzen verwendet oder wenn FP und FN stark unterschiedliche Kosten haben</li>
</ul>
</section>
<section id="logistische-regression-1" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="kurz-recap-1">Kurz-Recap</h3>
<ul>
<li class="fragment">Die beiden folgenden Grafiken sind im Kontext der binären Klassifikation mit der logistischen Regression besonders wichtig:</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment fade-in">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-3-1.png" width="384"></p>
</figure>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment fade-in">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-4-1.png" width="384"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="modellevaluation" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="precision">Precision</h3>
<div style="font-size: 0.85em">
<ul>
<li class="fragment">Andere Metriken beheben die Schwächen der Accuracy</li>
<li class="fragment">Precision oder Präzision gibt an, wie viele der vom Klassifikator als positiv identifizierten Fälle tatsächlich positiv sind und entspricht dem Anteil der tatsächlich positiven Fälle an der Menge aller als positiv klassifizierten Fälle</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[\text{Precision} = \frac{\text{TP}}{\text{TP + FP}}\]</span></p>
</div>
<ul>
<li class="fragment">Welcher Anteil der positiven Identifikationen war tatsächlich korrekt? Oder: Wenn das Modell einen Datenpunkt positiv klassifiziert, wie wahrscheinlich ist es, dass diese Klassifikation richtig ist?</li>
<li class="fragment">Eine hohe Precision bedeutet also, dass der Klassifikator nur wenige irrelevante Fälle als relevant einstuft und ein Klassifikator mit einer Precision von 1,0 liefert keine FP.</li>
</ul>
</div>
</section>
<section id="modellevaluation-1" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="recall">Recall</h3>
<div style="font-size: 0.85em">
<ul>
<li class="fragment"><strong>Recall</strong> hingegen gibt an, wie viele der tatsächlich positiven Fälle vom Klassifikator als positiv bzw. relevant erkannt wurden:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[\text{Recall} = \frac{\text{TP}}{\text{TP + FN}}\]</span></p>
</div>
<ul>
<li class="fragment">Ein hoher Recall-Wert bedeutet, dass der Klassifikator viele relevante Fälle erkennt und beantwortet die Frage, welcher Anteil der positiven Ergebnisse richtig identifiziert wurde.</li>
<li class="fragment">Wie wahrscheinlich ist es, dass das Modell einen positiven Datenpunkt erkennt?</li>
<li class="fragment">Auch häufig als Sensitivität oder True Positive Rate bezeichnet</li>
</ul>
</div>
<aside class="notes">
<ul>
<li>Kasten: Sample aller Beobachtungen</li>
<li>Linker Kasten: Positive Beobachtungen</li>
<li>Rechte Kasten: Negative Beobachtungen</li>
<li>Kreis: Vorhersage des Modells, also ALLE als positiv vorhergesagte Datenpunkte</li>
<li>Kreis besteht aus zwei Hälften: TP und FN</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="modellevaluation-2" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="precision-und-recall">Precision und Recall</h3>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Visualizing-accuracy-recall-aka-sensitivity-and-precision-which-are-the-common.png" style="width:72.0%"></p>
<figcaption>Illustration Precision, Recall, Accuracy, Quelle: <span class="citation" data-cites="maleki_overview_2020">Maleki u.&nbsp;a. (<a href="#/quellen" role="doc-biblioref" onclick="">2020</a>)</span></figcaption>
</figure>
</div>
<aside class="notes">
<ul>
<li>Kasten: Sample aller Beobachtungen</li>
<li>Linker Kasten: Positive Beobachtungen</li>
<li>Rechte Kasten: Negative Beobachtungen</li>
<li>Kreis: Vorhersage des Modells, also ALLE als positiv vorhergesagte Datenpunkte</li>
<li>Kreis besteht aus zwei Hälften: TP und FN</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="modellevaluation-3" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="precision-und-recall-für-den-spam-filter">Precision und Recall für den Spam-Filter</h3>
<div class="columns">
<div class="column" style="width:55%;">
<div style="font-size: 0.85em">
<ul>
<li class="fragment">Um Precision und Recall bei unausgewogenen Datensätzen zu illustrieren, betrachten wir erneut den Spam-Filter</li>
<li class="fragment">Für Precision erhalten wir</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[\text{Precision} = \frac{\text{1}}{\text{1 + 0}} = 1\]</span></p>
</div>
<ul>
<li class="fragment">Für Recall ergibt sich</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[\text{Recall} = \frac{\text{1}}{\text{1 + 99}} = 0,01.\]</span></p>
</div>
</div>
</div><div class="column" style="width:45%;">
<div style="font-size: 0.6em">
<table style="width:100%;">
<colgroup>
<col style="width: 25%">
<col style="width: 26%">
<col style="width: 26%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Tatsächlich Positiv</th>
<th>Tatsächlich Negativ</th>
<th>Summe Vorhersage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Vorhergesagt Positiv</strong></td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td><strong>Vorhergesagt Negativ</strong></td>
<td>99</td>
<td>900</td>
<td>999</td>
</tr>
<tr class="odd">
<td><strong>Summe Tatsächlich</strong></td>
<td>100</td>
<td>900</td>
<td>1000</td>
</tr>
</tbody>
</table>
</div>
<div style="font-size: 0.8em">
<ul>
<li class="fragment">Wenn das Modell eine Mail als Spam klassifiziert, ist diese Prognose zu 100% korrekt</li>
<li class="fragment">Das Modell erkennt aber nur 1% der tatsächlichen Spam-Mails.</li>
</ul>
</div>
</div>
</div>
</section>
<section id="modellevaluation-4" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="precision-und-recall-für-den-spam-filter-1">Precision und Recall für den Spam-Filter</h3>
<ul>
<li class="fragment">Welches Maß ist nun das Richtige?</li>
</ul>
<ol type="1">
<li class="fragment">Wenn ein balancierter Datensatz vorliegt, kann Accuracy bedenkenlos verwendet werden, um das Modell zu evaluieren</li>
<li class="fragment">Wenn wir sicher sein wollen, dass eine positive Vorhersage korrekt ist, dann ist Precision die angemessene Evaluationsmetrik. Dies ist oft der Fall, wenn FP mit höheren Kosten verbunden sind, als FN.</li>
<li class="fragment">Wenn es wichtig ist, so viele positive Fälle wie möglich zu identifizieren, sollte ein Modell mit hohem Recall verwendet werden. In diesem Fall sind die Kosten von FN besonders hoch, sodass es besser ist, einige Fälle fälschlicherweise negativ zu klassifizieren, als dass uns tatsächlich positive Fälle durch die Lappen gehen</li>
</ol>
</section>
<section id="modellevaluation-5" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="f1-score">F1-Score</h3>
<ul>
<li class="fragment">Oft sind Kosten und Nutzen von FP und FN Klassifikationen nicht eindeutig</li>
<li class="fragment">Der F1 Score kompensiert die Nachteile der Accuracy bei unbalancierten Datensätzen zu kompensieren und legt gleichzeitig einen ausgewogenen Fokus auf Precision und Recall:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
F1 = 2 \cdot \frac{\text{Precision} \cdot \text{Recall}}{\text{Precision} + \text{Recall}}
\]</span></p>
</div>
<ul>
<li class="fragment">F1 ist das harmonische Mittel von Precision und Recall und liegt zwischen 0 und 1</li>
</ul>
</section>
<section id="modellevaluation-6" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="f1-score-1">F1-Score</h3>
<ul>
<li class="fragment">Im Spam Beispiel:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
F1 = 2 \cdot \frac{\text{1} \cdot \text{0,01}}{\text{1} + \text{0,01}}= 0,0198
\]</span></p>
</div>
<ul>
<li class="fragment">Dieser Wert ist deutlich niedriger, als uns die 90,1% Accuracy zunächst suggerieren.</li>
<li class="fragment">Trotzdem ist das Beispielmodell nahezu nutzlos, wie anhand des niedrigen F1-Scores erkennbar wird.</li>
</ul>
</section>
<section id="modellevaluation-7" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="abschließende-bemerkungen">Abschließende Bemerkungen</h3>
<ul>
<li class="fragment">Bei einem balancierten Datensatz <strong>und</strong> gleicher Gewichtung von FP und FN ist die Accuracy die einfachste und intuitivste Metrik</li>
<li class="fragment">Bei unbalancierten Datensätzen sollten Precision, Recall und F1-Score verwendet werden</li>
<li class="fragment">Wenn FP höhere Kosten haben, dann sollte Precision im Fokus stehen</li>
<li class="fragment">Wenn FN höhere haben, dann sollte Recall im Fokus stehen</li>
<li class="fragment">Der F1-Score ist besonders nützlich, wenn Precision und Recall gleiche Gewichtung haben</li>
</ul>
</section>
<section id="modellevaluation-8" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="kosten-von-fp-und-fn">Kosten von FP und FN</h3>
<div style="font-size: 0.93em">
<ul>
<li class="fragment"><p>Die meisten Klassifikationsmethoden basieren auf der Annahme, dass FP und FN gleich problematisch sind</p></li>
<li class="fragment"><p>In praktischen Szenarios ist dies jedoch selten der Fall, Beispiel:</p></li>
<li class="fragment"><p>Betrugserkennung: Eine Haftpflichtversicherung prüft Schadensmeldungen mit ML. Das Modell soll den Schaden automatisch abwickelnd und entweder als “Zahlung” oder “Keine Zahlung” klassifizieren, je nachdem ob ein Betrugsversuch vorliegt</p></li>
<li class="fragment"><p>Fragen:</p>
<ul>
<li class="fragment">Was ist die positive (interessante) Klasse aus Sicht der Versicherung?</li>
<li class="fragment">Welche Fälle sind dann FN und FP?</li>
<li class="fragment">Welche Fehlklassifikation ist teurer? Welches Maß sollte für das Modell maximiert werden?</li>
</ul></li>
</ul>
</div>
<aside class="notes">
<ul>
<li>Antworten:
<ul>
<li>Die interessante Klasse ist die Zahlung des Schadens</li>
<li>FN: Die Forderung ist berechtigt, aber die Versicherung zahlt nicht</li>
<li>FP: Die Forderung ist unberechtigt, aber die Versicherung zahlt</li>
<li>FP ist teurer, da die Versicherung zahlen muss, deshalb sollte Precision im Vordergrund stehen</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<!-- ## Modellevaluation -->
<!-- ### Kosten von FP und FN -->
<!-- 2. Identifikation einer ansteckenden Krankheit: Ein medizinisches Modell identifiziert eine ansteckende Krankheit mit der Eingabe weniger Symptome. Anschließend wird die Person isoliert und umfänglich getestet -->
<!-- * Fragen: -->
<!--   * Was ist die interessante Klasse aus Sicht einer Gesundheitsbehörde? -->
<!--   * Welche Fälle sind dann FN und FP? -->
<!--   * Welche Fehlklassifikation ist teurer? Welches Maß sollte für das Modell maximiert werden? -->
<!-- ::: {.notes} -->
<!-- Antworten: -->
<!--   * Die interessante Klasse ist die Identifikation der Krankheit -->
<!--   * FN: Die Person ist krank, wird aber nicht isoliert -->
<!--   * FP: Die Person ist nicht krank, wird aber isoliert -->
<!--   * FN ist teurer, da die Krankheit weiterverbreitet wird, deshalb sollte das Modell einen hohen Recall haben -->
<!-- ::: -->
</section>
<section id="modellevaluation-9" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="tauziehen-zwischen-precision-und-recall">Tauziehen zwischen Precision und Recall</h3>
<ul>
<li class="fragment">Precision und Recall sind in binären Klassifikationsmodellen oft invers proportional, eine Erhöhung von Precision führt zu einer Verringerung von Recall (und umgekehrt)</li>
<li class="fragment">Dieses Tauziehen kann durch die Anpassung des Cut-Off Points <span class="math inline">\(C\)</span> beeinflusst werden</li>
<li class="fragment">Zur Illustration noch einmal zurück zur interaktiven Visualisierung:
<ul>
<li class="fragment"><a href="https://bi-and-ds-logistic-regression-qkwupfgvpq-ey.a.run.app/">https://bi-and-ds-logistic-regression-qkwupfgvpq-ey.a.run.app/</a></li>
</ul></li>
<li class="fragment">Fragen:
<ul>
<li class="fragment">Was passiert mit Precision und Recall, wenn <span class="math inline">\(C\)</span> ansteigt (sinkt)?</li>
<li class="fragment">Für welche Werte von <span class="math inline">\(C\)</span> erhalten wir maximale Precision und Recall?</li>
</ul></li>
</ul>
</section>
<section id="modellevaluation-10" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="tauziehen-zwischen-precision-und-recall-1">Tauziehen zwischen Precision und Recall</h3>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Relationship-of-thresholds-and-matching-performance-precision-recall-and-f1-Measure.png" style="width:67.0%"></p>
<figcaption>Precision und Recall in Abhängigkeit von <span class="math inline">\(C\)</span>. Quelle: <span class="citation" data-cites="shen_actively_2009">Shi u.&nbsp;a. (<a href="#/quellen" role="doc-biblioref" onclick="">2009</a>)</span></figcaption>
</figure>
</div>
</section>
<section id="logistische-regression-2" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="multiple-logistische-regression">Multiple Logistische Regression</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div style="font-size: 0.9em">
<ul>
<li class="fragment">Bisher haben wir nur eine unabhängige Variable, Energy, betrachtet</li>
<li class="fragment">Da die Aufteilung jedoch nicht perfekt war, ist es sinnvoll, weitere Features zu verwenden, bspw. Danceability</li>
<li class="fragment">Zur Identifikation geeigneter Variablen lassen sich erneut Box-Plots oder Violin-Plots verwenden</li>
<li class="fragment">Zur Erinnerung: Auch Danceability scheint geeignet, um zwischen EDM und Klassik zu unterscheiden</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-5-1.png" width="480"></p>
</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-3" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="multiple-logistische-regression-1">Multiple Logistische Regression</h3>
<ul>
<li class="fragment">Bei der Hinzunahme mehrerer Variablen ist neben der Korrelation mit der abhängigen Variable auch die Korrelation zwischen den unabhängigen Variablen zu beachten</li>
<li class="fragment">Bei hoher positiver Korrelation zwischen den Variablen ist es möglich, dass die Hinzunahme dieser Variablen zum Modell keinen zusätzlichen Informationsgewinn liefert</li>
<li class="fragment">Auch besteht das Risiko der Multikollinearität, die zu instabilen Koeffizienten und einer schlechten Modellperformance führen kann</li>
<li class="fragment">Die Korrelation zwischen Danceability und Energy beträgt 0,8, ist also hoch, aber noch nicht bedenklich</li>
</ul>
</section>
<section id="logistische-regression-4" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="multiple-logistische-regression-2">Multiple Logistische Regression</h3>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li class="fragment">Bei zwei unabhängigen Variablen lässt sich der Zusammenhang zwischen den Variablen und der abhängigen Variable nach wie vor grafisch darstellen, diesmal als Scatter Plot</li>
</ul>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-6-1.png" width="672"></p>
</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-5" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="multiple-logistische-regression-3">Multiple Logistische Regression</h3>
<div style="font-size: 0.9em">
<ul>
<li class="fragment">Allgemein hat das logistische Modell mit mehreren unabhängigen Variablen die Form:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
P(y = 1|X) = \frac{ e^{(\beta_0 + \beta_1 \cdot X_1 + \beta_2 \cdot X_2 + \ldots + \beta_P \cdot X_P)}}{1 + e^{(\beta_0 + \beta_1 \cdot X_1 + \beta_2 \cdot X_2 + \ldots + \beta_P \cdot X_P)}}
\]</span></p>
</div>
<ul>
<li class="fragment">Mit den beiden Variablen Energy und Danceability erhalten wir folgendes Modell:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
P(EDM = 1|\text{Energy, Danceability}) = \\ \frac{ e^{(\beta_0 + \beta_1 \cdot \text{Energy} + \beta_2 \cdot \text{Danceability})}}{1 + e^{(\beta_0 + \beta_1 \cdot \text{Energy} + \beta_2 \cdot \text{Danceability})}}
\]</span></p>
</div>
</div>
</section>
<section id="logistische-regression-6" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="multiple-logistische-regression-4">Multiple Logistische Regression</h3>
<div style="font-size: 0.88em">
<ul>
<li class="fragment">Die Koeffizienten für die unabhängigen Variablen sind:</li>
</ul>
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-38.1001</td>
</tr>
<tr class="even">
<td style="text-align: left;">energy</td>
<td style="text-align: right;">27.2445</td>
</tr>
<tr class="odd">
<td style="text-align: left;">danceability</td>
<td style="text-align: right;">41.1560</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<ul>
<li class="fragment">Auch wenn die Interpretation der Koeffizienten bei Klassifikation weniger wichtig ist, zwei Anmerkungen zur Interpretation:
<ol type="1">
<li class="fragment">Da der Zusammenhang zwischen den unabhängigen Variablen und der abhängigen Variable nicht linear ist, können wir die Koeffizienten nicht direkt interpretieren wie bei der linearen Regression</li>
<li class="fragment">Die Vorzeichen der Koeffizienten geben jedoch an, ob die unabhängige Variable positive oder negative Auswirkungen auf die abhängige Variable hat</li>
</ol></li>
</ul>
</div>
<aside class="notes">
<p>Hier zur Erinnerung die lineare Regression:</p>
<p>Beispiel:</p>
<p>Miete = 500 + 25<em>Wohnfläche + 50</em>Zimmeranzahl</p>
<p>Interpretation:</p>
<ul>
<li>Jede zusätzliche Quadratmeter Wohnfläche erhöht die Miete um 25€</li>
<li>Jedes zusätzliche Zimmer erhöht die Miete um 50€</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="logistische-regressoin" class="slide level2">
<h2>Logistische Regressoin</h2>
<h3 id="multiple-logistische-regression-5">Multiple Logistische Regression</h3>
<ul>
<li class="fragment">Grafisch:</li>
</ul>
<div class="fragment fade-in">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-9-1.png" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-7" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="multiple-logistische-regression-6">Multiple Logistische Regression</h3>
<div class="columns">
<div class="column" style="width:40%;">
<div style="font-size: 0.88em">
<ul>
<li class="fragment">Mit dem Scatter Plot lassen sich die Vorhersagen des Modells visualisieren und evaluieren</li>
<li class="fragment">Auch für das Modell mit mehreren unabhängigen Variablen benötigen wir einen Cut-Off Point <span class="math inline">\(C\)</span>, um die Vorhersagen in Klassen zu unterteilen</li>
<li class="fragment">Die gestrichelte Linie ist die Decision Boundary für C = 0.5, also die Linie, auf der die Wahrscheinlichkeit für beide Klassen gleich 0,5 ist</li>
</ul>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-10-1.png" width="672"></p>
</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-8" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="multiple-logistische-regression-7">Multiple Logistische Regression</h3>
<div class="columns">
<div class="column" style="width:55%;">
<ul>
<li class="fragment">Für das Modell mit zwei Variablen und den Wert <span class="math inline">\(C\)</span> = 0.5 erhalten wir die Konfusionsmatrix auf der rechten Seite.</li>
<li class="fragment">Accuracy, Precision, Recall und F1-Score sind:</li>
</ul>
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Metric</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">accuracy</td>
<td style="text-align: right;">0.9933</td>
</tr>
<tr class="even">
<td style="text-align: left;">recall</td>
<td style="text-align: right;">0.9930</td>
</tr>
<tr class="odd">
<td style="text-align: left;">precision</td>
<td style="text-align: right;">0.9930</td>
</tr>
<tr class="even">
<td style="text-align: left;">f_meas</td>
<td style="text-align: right;">0.9930</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div><div class="column" style="width:45%;">
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-12-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-9" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="multiple-logistische-regression-8">Multiple Logistische Regression</h3>
<div class="columns">
<div class="column" style="width:35%;">
<ul>
<li class="fragment">Um die Performance des Modells systematisch zu optimieren, können wir erneut den Cut-Off Point <span class="math inline">\(C\)</span> anpassen</li>
<li class="fragment">Statt Trial &amp; Error ist es sinnvoll, Precision und Recall für verschiedene Werte von <span class="math inline">\(C\)</span> zu berechnen und zu visualisieren</li>
</ul>
</div><div class="column" style="width:65%;">
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-13-1.png" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-10" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="zusammenfassung-binäre-klassifikation">Zusammenfassung binäre Klassifikation</h3>
<ul>
<li class="fragment">Die binäre Klassifikation erfordert zunächst die Umwandlung der abhängigen Variable in eine Dummy-Variable, kodiert mit 0 und 1</li>
<li class="fragment">Zur Vereinfachung der Interpretation wird die interessante Klasse als 1 kodiert</li>
<li class="fragment">Das Modell berechnet für jeden Datenpunkt eine Wahrscheinlichkeit, dass die Beobachtung zur interessanten Klasse gehört</li>
<li class="fragment">Anhand eines Cut-Off Points <span class="math inline">\(C\)</span> wird entschieden, ob die Beobachtung zur interessanten Klasse gehört</li>
<li class="fragment">Die Wahl der Evaluationsmetrik hängt von den Kosten von FP und FN und der Klassenungleichgewichtung ab</li>
<li class="fragment">Konfusionsmatrix, Accuracy, Precision, Recall und F1-Score sind gängige Metriken zur Modellbewertung</li>
</ul>
</section>
<section id="multinominale-logistische-regression" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="erweiterung-auf-mehrere-klassen">Erweiterung auf mehrere Klassen</h3>
<ul>
<li class="fragment">Auch bei mehreren unabhängigen Variablen bleibt die logistische Regression ein binäres Modell</li>
<li class="fragment">Zur Erweiterung auf <span class="math inline">\(K&gt;2\)</span> Klassen wird die multinomiale logistische Regression verwendet, bei der zunächst eine Referenz- oder Baseline-Klasse festgelegt wird</li>
<li class="fragment">Zur Schätzung der Koeffizienten werden anschließend alle <span class="math inline">\(K-1\)</span> Klassen paarweise separat gegen die Referenzklasse regressiert</li>
<li class="fragment">Anschließend lassen sich die Klassenzugehörigkeiten ähnlich wie im binären Modell vorhersagen</li>
</ul>
</section>
<section id="logistische-regression-11" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="mehrklassen-klassifikation">Mehrklassen-Klassifikation</h3>
<div style="font-size: 0.9em">
<ul>
<li class="fragment">Für die Klassen <span class="math inline">\(k = 1, ..., K-1\)</span> geschieht dies mit</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
p(y_i = k|X = x) = \frac{e^{\beta_{k0} + \beta_{k1}x_1 + ... + \beta_{kp}x_p}}{1+\sum_{l=1}^{K-1} e^{\beta_{l0} + \beta_{l1}x_1 + ... + \beta_{lp}x_p} }
\]</span></p>
</div>
<ul>
<li class="fragment">und für die Referenzklasse <span class="math inline">\(K\)</span> mit</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
p(y_i = k|X = x) = \frac{1}{1+\sum_{l=1}^{K-1} e^{\beta_{l0} + \beta_{l1}x_1 + ... + \beta_{lp}x_p} }
\]</span></p>
</div>
<ul>
<li class="fragment">Dabei sind <span class="math inline">\(\beta_{k0}, ..., \beta_{kp}\)</span> die Koeffizienten für die Klasse <span class="math inline">\(k\)</span> und <span class="math inline">\(x_1, ..., x_p\)</span> die unabhängigen Variablen</li>
</ul>
</div>
</section>
<section id="multinominale-logistische-regression-1" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="neue-daten-von-tofispy">Neue Daten von Tofispy</h3>
<ul>
<li class="fragment">Tofispy hat uns neue Daten zur Verfügung gestellt:
<ul>
<li class="fragment">Neben Klassik und EDM ist jetzt auch Hip-Hop enthalten</li>
<li class="fragment">Nach wie vor haben wir die beiden Variablen Energy und Danceability zur Verfügung</li>
</ul></li>
<li class="fragment">Erneut teilen wir die Daten in Trainings- und Testdaten auf</li>
<li class="fragment">Diesmal verwenden wir 70% der Daten für das Training und 30% für das Testen</li>
<li class="fragment">Die Bewertung des Modells erfolgt dann anhand der Testdaten</li>
</ul>
</section>
<section id="multinominale-logistische-regression-2" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="ergebnisse">Ergebnisse</h3>
<ul>
<li class="fragment">Für das multinominale Modell erhalten wir jeweils Koeffizienten für <span class="math inline">\(K-1\)</span> Klassen, bis auf die Referenzklasse <span class="math inline">\(K\)</span></li>
<li class="fragment">Für das Beispiel mit den drei Genres Klassik, EDM und Hip-Hop erhalten wir folgende Koeffizienten</li>
</ul>
<div style="font-size: 0.8em">
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Class</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Coefficient</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">5.1263</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: left;">energy</td>
<td style="text-align: right;">-9.7410</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: left;">danceability</td>
<td style="text-align: right;">3.2574</td>
</tr>
<tr class="even">
<td style="text-align: left;">Klassik</td>
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">23.7448</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Klassik</td>
<td style="text-align: left;">energy</td>
<td style="text-align: right;">-30.5953</td>
</tr>
<tr class="even">
<td style="text-align: left;">Klassik</td>
<td style="text-align: left;">danceability</td>
<td style="text-align: right;">-15.4205</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</section>
<section id="multinominale-logistische-regression-3" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="prognose-aus-dem-multinominalen-modell">Prognose aus dem multinominalen Modell</h3>
<ul>
<li class="fragment">Die Prognose für die jeweilligen Klassen erfolgt erneut durch einsetzen der Koeffizienten in die logistische Funktion</li>
<li class="fragment">Für Hip-Hop erhalten wir beispielsweise</li>
</ul>
<div style="font-size: 0.7em">
<div class="fragment fade-in">
<p><span class="math display">\[
\operatorname{\widehat{P}(Hip-Hop|\text{Energy, Dance})} = \\
\frac{e^{5.13  -9.74 \cdot \text{Energy} + 3.26 \cdot \text{Dance}}}{1 + e^{5.13  -9.74 \cdot \text{Energy} + 3.26 \cdot \text{Dance}} +
e^{23.74  -30.6 \cdot \text{Energy}  -15.42 \cdot \text{Dance}}}  
\]</span></p>
</div>
</div>
<ul>
<li class="fragment">Und für die Referenzklasse EDM:</li>
</ul>
<div style="font-size: 0.7em">
<div class="fragment fade-in">
<p><span class="math display">\[
\operatorname{\widehat{P}(EDM|\text{Energy, Dance)}} = \\
\frac{1}{1 + e^{5.13  -9.74 \cdot \text{Energy} + 3.26 \cdot \text{Dance}} +
e^{23.74  -30.6 \cdot \text{Energy}  -15.42 \cdot \text{Dance}}}  
\]</span></p>
</div>
</div>
</section>
<section id="multinominale-logistische-regression-4" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="wahrscheinlichkeit-und-klassenzugehörigkeit">Wahrscheinlichkeit und Klassenzugehörigkeit</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment">Auch das Modell der multinomialen logistischen Regression gibt für jede Klasse eine Wahrscheinlichkeit aus</li>
<li class="fragment">Anders als im binären Modell wird nicht nur die Wahrscheinlichkeit für eine Klasse ausgegeben, sondern für alle Klassen</li>
<li class="fragment">Die Klassenzugehörigkeit wird dann anhand der höchsten Wahrscheinlichkeit bestimmt, ein Cut-Off Point ist nicht notwendig</li>
</ul>
</div><div class="column" style="width:50%;">
<div style="font-size: 0.5em">
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">track.artist</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">track.name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">category</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p_EDM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p_Hip-Hop</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p_Klassik</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Euggy</td>
<td style="text-align: left;">Samaria</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.8015</td>
<td style="text-align: right;">0.1985</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bklava</td>
<td style="text-align: left;">Make It Work</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.8665</td>
<td style="text-align: right;">0.1335</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">OG Keemo</td>
<td style="text-align: left;">OKAY!</td>
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: right;">0.1855</td>
<td style="text-align: right;">0.8145</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Axel N.</td>
<td style="text-align: left;">Black Swan</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.6489</td>
<td style="text-align: right;">0.3511</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Claude Debussy</td>
<td style="text-align: left;">Préludes - Book 2, L.123: 11. Les tierces alternées</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dizzy</td>
<td style="text-align: left;">Tipsy</td>
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: right;">0.1179</td>
<td style="text-align: right;">0.8796</td>
<td style="text-align: right;">0.0025</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Twista</td>
<td style="text-align: left;">Overnight Celebrity</td>
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: right;">0.4729</td>
<td style="text-align: right;">0.5271</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Digital Underground</td>
<td style="text-align: left;">The Humpty Dance</td>
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: right;">0.2642</td>
<td style="text-align: right;">0.7358</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Elliott Jack Sansom</td>
<td style="text-align: left;">Papa, Can You Hear Me?</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Colin Stetson</td>
<td style="text-align: left;">Peaceful Here Now</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0005</td>
<td style="text-align: right;">0.9994</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="multinominale-logistische-regression-5" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="prognose-aus-dem-multinominalen-modell-1">Prognose aus dem multinominalen Modell</h3>
<ul>
<li class="fragment">Da die händische Berechnung viel zu aufwendig ist, hier ein Beispiel für 10 ausgewählte Songs:</li>
</ul>
<div style="font-size: 0.5em">
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">pred_class</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">category</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p_EDM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p_Hip-Hop</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p_Klassik</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">track.name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">track.artist</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">energy</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">danceability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">EDM</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.8015</td>
<td style="text-align: right;">0.1985</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: left;">Samaria</td>
<td style="text-align: left;">Euggy</td>
<td style="text-align: right;">0.9080</td>
<td style="text-align: right;">0.713</td>
</tr>
<tr class="even">
<td style="text-align: left;">EDM</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.8665</td>
<td style="text-align: right;">0.1335</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: left;">Make It Work</td>
<td style="text-align: left;">Bklava</td>
<td style="text-align: right;">0.9540</td>
<td style="text-align: right;">0.705</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: right;">0.1855</td>
<td style="text-align: right;">0.8145</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: left;">OKAY!</td>
<td style="text-align: left;">OG Keemo</td>
<td style="text-align: right;">0.6850</td>
<td style="text-align: right;">0.929</td>
</tr>
<tr class="even">
<td style="text-align: left;">EDM</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.6489</td>
<td style="text-align: right;">0.3511</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: left;">Black Swan</td>
<td style="text-align: left;">Axel N.</td>
<td style="text-align: right;">0.8070</td>
<td style="text-align: right;">0.651</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Klassik</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: left;">Préludes - Book 2, L.123: 11. Les tierces alternées</td>
<td style="text-align: left;">Claude Debussy</td>
<td style="text-align: right;">0.0633</td>
<td style="text-align: right;">0.279</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: right;">0.1179</td>
<td style="text-align: right;">0.8796</td>
<td style="text-align: right;">0.0025</td>
<td style="text-align: left;">Tipsy</td>
<td style="text-align: left;">Dizzy</td>
<td style="text-align: right;">0.5520</td>
<td style="text-align: right;">0.694</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: right;">0.4729</td>
<td style="text-align: right;">0.5271</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: left;">Overnight Celebrity</td>
<td style="text-align: left;">Twista</td>
<td style="text-align: right;">0.7920</td>
<td style="text-align: right;">0.828</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: left;">Hip-Hop</td>
<td style="text-align: right;">0.2642</td>
<td style="text-align: right;">0.7358</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: left;">The Humpty Dance</td>
<td style="text-align: left;">Digital Underground</td>
<td style="text-align: right;">0.6930</td>
<td style="text-align: right;">0.813</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Klassik</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: left;">Papa, Can You Hear Me?</td>
<td style="text-align: left;">Elliott Jack Sansom</td>
<td style="text-align: right;">0.0128</td>
<td style="text-align: right;">0.452</td>
</tr>
<tr class="even">
<td style="text-align: left;">Klassik</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0005</td>
<td style="text-align: right;">0.9994</td>
<td style="text-align: left;">Peaceful Here Now</td>
<td style="text-align: left;">Colin Stetson</td>
<td style="text-align: right;">0.3170</td>
<td style="text-align: right;">0.241</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</section>
<section id="multinominale-logistische-regression-6" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="evaluationsmetriken">Evaluationsmetriken</h3>
<ul>
<li class="fragment">Die Evaluationsmetriken für die multinominale logistische Regression sind analog zum binären Modell, Accuracy, Precision, Recall und F1-Score können auch hier verwendet werden</li>
<li class="fragment">Auch die Konfusionsmatrix ist ein geeignetes Mittel zur Modellbewertung, umfasst nun aber alle Klassen und nicht nur vier Felder</li>
<li class="fragment">Accuracy entspricht dann nach wie vor der Summe aller richtig klassifizierten Fälle geteilt durch die Gesamtanzahl der Fälle</li>
<li class="fragment">Andere Metriken können entweder für jede Klasse einzeln berechnet oder gemittelt werden, um ein Gesamtbild der Modellperformance zu erhalten</li>
</ul>
</section>
<section id="multinominale-logistische-regression-7" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="evaluationsmetriken-1">Evaluationsmetriken</h3>
<ul>
<li class="fragment">Bei der Aggregation wird häufig Macro-Averaging verwendet, bei dem der gleichgewichtete Durchschnitt über alle Klassen berechnet wird</li>
<li class="fragment">Zum Beispiel für Precision ergibt sich bei Macro-Averaging:</li>
</ul>
<div style="font-size: 0.8em">
<div class="fragment fade-in">
<p><span class="math display">\[
Precision_{\text{macro}} = \frac{1}{K} \sum_{k=1}^{K} Precision_k
\]</span></p>
</div>
</div>
<ul>
<li class="fragment">Wobei <span class="math inline">\(K\)</span> die Anzahl der Klassen ist</li>
<li class="fragment">Analog für Recall möglich</li>
</ul>
</section>
<section id="multinominale-logistische-regression-8" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="evaluationsmetriken-2">Evaluationsmetriken</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment">Die Konfusionsmatrix für das Modell mit drei Klassen ist auf der rechten Seite dargestellt</li>
<li class="fragment">Im Durchschnitt über alle Klassen erhalten wir die folgenden Metriken:</li>
</ul>
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Metric</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">accuracy</td>
<td style="text-align: right;">0.8478</td>
</tr>
<tr class="even">
<td style="text-align: left;">recall</td>
<td style="text-align: right;">0.8454</td>
</tr>
<tr class="odd">
<td style="text-align: left;">precision</td>
<td style="text-align: right;">0.8479</td>
</tr>
<tr class="even">
<td style="text-align: left;">f_meas</td>
<td style="text-align: right;">0.8464</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-18-1.png" width="480"></p>
</div>
</div>
</div>
</div>
</section>
<section id="multinominale-logistische-regression-9" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="evaluationsmetriken-3">Evaluationsmetriken</h3>
<ul>
<li class="fragment">Die Performance des Modells weicht zwischen den Klassen oft ab, häufig auch in einer Klassenungleichgewichtung begründet</li>
<li class="fragment">Aus diesem Grund ist es manchmal sinnvoll, die Metriken für jede Klasse einzeln zu betrachten</li>
<li class="fragment">Für Precision:</li>
</ul>
<div style="font-size: 0.75em">
<div class="fragment fade-in">
<p><span class="math display">\[
Precision_{\text{k}} = \frac{TP_{\text{k}}}{TP_{\text{k}} + FP_{\text{k}}} = \frac{TP_{\text{k}}}{\text{# vorhergesagte Klasse k}}
\]</span></p>
</div>
</div>
<ul>
<li class="fragment">und für Recall:</li>
</ul>
<div style="font-size: 0.75em">
<div class="fragment fade-in">
<p><span class="math display">\[
Recall_{\text{k}} = \frac{TP_{\text{k}}}{TP_{\text{k}} + FN_{\text{k}}} = \frac{TP_{\text{k}}}{\text{# tatsächliche Klasse k}}
\]</span></p>
</div>
</div>
<!-- # ```{r} -->
<!-- #  -->
<!-- # predictions_multi %>%   -->
<!-- #   group_by(category) %>%  -->
<!-- #   multi_metric_multi(truth = category, estimate = .pred_class, event_level = "second") %>% -->
<!-- #   select(.metric, .estimate) %>% -->
<!-- #   rename(Metric = .metric, Value = .estimate) %>% -->
<!-- #   knitr::kable(digits = 4) -->
<!-- #  -->
<!-- # ``` -->
</section>
<section id="multinominale-logistische-regression-10" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="aufgabe-evaluationsmetriken-pro-klasse">Aufgabe Evaluationsmetriken pro Klasse</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment">Gegeben ist die Konfusionsmatrix auf der rechten Seite</li>
<li class="fragment">Fragen:
<ul>
<li class="fragment">Welche Klasse hat die höchste Precision?</li>
<li class="fragment">Wie hoch ist der Recall für das Genre Hip-Hop?</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_VL_D_files/figure-revealjs/unnamed-chunk-20-1.png" width="480"></p>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Precsion:</p>
<p>EDM = 363/472 = 76.91% Hip-Hop = 479/614 = 78.01% Klassik = 534/537 = 99.44%</p>
<p>Recall:</p>
<p>EDM 363/490 = 74.08% Hip-Hop = 479/590 = 81.19% Klassik = 534/543 = 98.34%</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="multinominale-logistische-regression-11" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="lösung-evaluationsmetriken-pro-klasse">Lösung Evaluationsmetriken pro Klasse</h3>
<ul>
<li class="fragment">Precsion:
<ul>
<li class="fragment">EDM = 363/(363+109+0) = 76.91%</li>
<li class="fragment">Hip-Hop = 479/614 = 78.01%</li>
<li class="fragment">Klassik = 534/537 = 99.44%</li>
</ul></li>
<li class="fragment">Recall:
<ul>
<li class="fragment">EDM 363/(363+126+1) = 74.08%</li>
<li class="fragment">Hip-Hop = 479/590 = 81.19%</li>
<li class="fragment">Klassik = 534/543 = 98.34%</li>
</ul></li>
</ul>
</section>
<section id="multinominale-logistische-regression-12" class="slide level2">
<h2>Multinominale Logistische Regression</h2>
<h3 id="vergleich-aggregation-vs.-einzelmetriken">Vergleich Aggregation vs.&nbsp;Einzelmetriken</h3>
<div style="font-size: 0.75em">
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment"><strong>Macro-Averaging</strong>
<ul>
<li class="fragment">Einfach interpretierbar, Reduktion auf eine Zahl</li>
<li class="fragment">Sinnvoll wenn alle Klassen gleich wichtig sind oder Datensatz ausgewogen</li>
<li class="fragment">Kann schlechte Performance in kleinen Klassen verbergen</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li class="fragment"><strong>Berechnung pro Klasse</strong>
<ul>
<li class="fragment">Wenn nur bestimmte Klassen interessant sind kann man gezielt evaluieren</li>
<li class="fragment">Auch bei unbalancierten Datensätzen sinnvoll, um die Performance kleiner Klassen hervorzuheben</li>
<li class="fragment">Kann zu unübersichtlichen Ergebnissen führen, wenn viele Klassen vorhanden sind</li>
</ul></li>
</ul>
</div>
</div>
<ul>
<li class="fragment">Da wir vornehmlich balancierte Klassen betrachten, ist Macro-Averaging für unsere Zwecke ausreichend</li>
</ul>
</div>
</section>

<section id="quellen" class="slide level2 smaller scrollable">
<h2>Quellen</h2>

<div class="footer footer-default">
<p>Business Intelligence &amp; Data Science, SoSe 2024</p>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-james_introduction_2021" class="csl-entry" role="listitem">
James, Gareth, Daniela Witten, Trevor Hastie, und Robert Tibshirani. 2021. <em>An Introduction to Statistical Learning: with Applications in R</em>. Second edition. Springer texts in statistics. New York <span>NY</span>: Springer. <a href="https://doi.org/10.1007/978-1-0716-1418-1">https://doi.org/10.1007/978-1-0716-1418-1</a>.
</div>
<div id="ref-maleki_overview_2020" class="csl-entry" role="listitem">
Maleki, Farhad, Katie Ovens, Keyhan Najafian, Behzad Forghani, Caroline Md, und Reza Forghani. 2020. <span>„Overview of Machine Learning Part 1“</span>. <em>Neuroimaging Clinics of North America</em> 30 (November): e17–32. <a href="https://doi.org/10.1016/j.nic.2020.08.007">https://doi.org/10.1016/j.nic.2020.08.007</a>.
</div>
<div id="ref-shen_actively_2009" class="csl-entry" role="listitem">
Shi, Feng, Juanzi Li, Jie Tang, Guotong Xie, und Hanyu Li. 2009. <span>„Actively Learning Ontology Matching via User Interaction“</span>. In, 5823:585–600. <a href="https://doi.org/10.1007/978-3-642-04930-9_37">https://doi.org/10.1007/978-3-642-04930-9_37</a>.
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Kopiert");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Kopiert");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>