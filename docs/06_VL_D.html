<!DOCTYPE html>
<html lang="de"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Dr.&nbsp;Sebastian Schrön">
  <title>Business Intelligence &amp; Data Science, SoSe 2024 - Business Intelligence &amp; Data Science</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Business Intelligence &amp; Data Science</h1>
  <p class="subtitle">Vorlesung 6</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Sebastian Schrön 
</div>
<div class="quarto-title-author-email">
<a href="mailto:sebastian.schroen.doz@leibniz-fh.de">sebastian.schroen.doz@leibniz-fh.de</a>
</div>
        <p class="quarto-title-affiliation">
            Bahlsen GmbH &amp; Co.&nbsp;KG
          </p>
        <p class="quarto-title-affiliation">
            Manager Data Science
          </p>
    </div>
</div>

</section>
<section id="der-plan-für-heute" class="slide level2">
<h2>Der Plan für heute…</h2>
<h3 id="vorlesung">Vorlesung</h3>
</section>
<section id="der-plan-für-heute-1" class="slide level2">
<h2>Der Plan für heute…</h2>
<h3 id="vorlesung-1">Vorlesung</h3>
<ul>
<li class="fragment">Neue Daten von Tofispy</li>
<li class="fragment">Visualisierung von Verteilungen</li>
<li class="fragment">Modellgestützte Analysen
<ul>
<li class="fragment">Einfache Logistische Regression</li>
<li class="fragment">Modellevaluation</li>
<li class="fragment">Multivariate Logistische Regression</li>
</ul></li>
<li class="fragment">Wie gut kann man Musik-Genres klassifizieren?</li>
</ul>
</section>
<section id="business-case" class="slide level2">
<h2>Business Case</h2>
<h3 id="recap-tofispy">Recap Tofispy</h3>
<ul>
<li class="fragment">Unsere bisherigen Analysen haben gezeigt:
<ul>
<li class="fragment">Tofispy verliert Marktanteile gegenüber der Konkurrenz, insbesondere gegenüber Youtube Music</li>
<li class="fragment">Der Grund ist vorallem ein stark ansteigender Trend bei den Kündigungen, während die Registrierungen linear wachsen</li>
<li class="fragment">Eine Befragung nach der Kündigung hat ergeben:
<ul>
<li class="fragment">Die Mehrheit hört Musik über Playlists (55.8%)</li>
<li class="fragment">Der Großteil ist unzufrieden mit den Empfehlungen (69.2%)</li>
</ul></li>
</ul></li>
<li class="fragment">Handlungsempfehlung: Verbesserung der empfohlenen Playlists</li>
</ul>
</section>
<section id="business-case-1" class="slide level2">
<h2>Business Case</h2>
<h3 id="neue-daten-von-tofispy">Neue Daten von Tofispy</h3>
<div style="font-size: 0.88em">
<ul>
<li class="fragment">Zum Einstieg in die Empfehlungsverbesserung hat Tofispy neue Daten bereitgestellt</li>
<li class="fragment">Die Daten enthalten eine Auswahl an Songs aus den beiden Genres Klassik und Dance/Electronic (EDM)</li>
<li class="fragment">Die Daten enthalten:
<ul>
<li class="fragment">Song ID, Name und Artists,</li>
<li class="fragment">Genre als Label, manuell erstellt</li>
<li class="fragment">Features:
<ul>
<li class="fragment">Tempo (BPM)</li>
<li class="fragment">Danceability (0-1), beschreibt wie gut der Song zum Tanzen geeignet ist</li>
<li class="fragment">Energy (0-1), beschreibt wie energiegeladen der Song ist, wobei energiegeladene Songs schnell, intensiv und laut sind</li>
</ul></li>
</ul></li>
</ul>
</div>
</section>
<section id="business-case-2" class="slide level2">
<h2>Business Case</h2>
<h3 id="neue-daten-von-tofispy-1">Neue Daten von Tofispy</h3>
<ul>
<li class="fragment">Die Daten sind via Superset zur Verfügung gestellt und befinden sich im Schema “Classification” und Dataset “training_logistic”</li>
<li class="fragment">Die Daten sind bereits bereinigt und enthalten keine fehlenden Werte</li>
<li class="fragment">Tofispy generiert jeden Freitag – pünktlich zum Wochenende – eine neue EDM Playlist mit den neuen Releases der Woche und bittet uns, die Klassifizierung für die nächste Playlist zu erstellen</li>
<li class="fragment">Erste Frage: Wie gut sind die Daten geeignet, um zwischen den beiden Genres zu unterscheiden?</li>
</ul>
</section>
<section id="visualisierung-von-verteilungen" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="histogramm">Histogramm</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div style="font-size: 0.8em">
<ul>
<li class="fragment">Einfache Möglichkeit, die Verteilung einer numerischen Variable zu visualisieren</li>
<li class="fragment">Die einzelnen Werte der entsprechenden Variable werden in sogenannte Bins gruppiert</li>
<li class="fragment">Die Anzahl der Werte in jedem Bin wird gezählt und als Balken dargestellt</li>
<li class="fragment">Die Breite der Balken entspricht der Breite der Bins und die Höhe der Balken entspricht der Anzahl der Werte pro Bin</li>
<li class="fragment">Die Anzahl der Bins ist wichtig, zu wenige verschleiern den Detailgrad der Verteilung, zu viele Bins können zu zu granular sein</li>
<li class="fragment">Viele Tools optimieren die Bin-Zahl, oft aber Trial &amp; Error</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-2-1.png" width="480"></p>
</div>
</div>
</div>
</div>
</section>
<section id="visualisierung-von-verteilungen-1" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="histogramm-bei-mehreren-dimensionen">Histogramm bei mehreren Dimensionen</h3>
<div class="columns">
<div class="column" style="width:45%;">
<div style="font-size: 0.8em">
<ul>
<li class="fragment">Histogramme sind ideal, um einzelne Verteilung zu visualisieren</li>
<li class="fragment">Bei mehreren Dimensionen und ähnlichen Verteilungen drohen sich die Verteilungen zu überlagern</li>
<li class="fragment">Histogramme sind nicht mehr aussagekräftig</li>
<li class="fragment">In diesen Fällen sind mehrere Histogramme zu empfehlen</li>
<li class="fragment">Hierbei auf passende X-Achsen achten, um Vergleiche zu erleichtern</li>
</ul>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-3-1.png" width="480"></p>
</div>
</div>
</div>
</div>
</section>
<section id="visualisierung-von-verteilungen-2" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="box-plot">Box-Plot</h3>
<ul>
<li class="fragment">Box Plots sind eine weitere Möglichkeit, die Verteilung einer numerischen Variable über verschiedene Gruppen hinweg zu visualisieren</li>
<li class="fragment">Ermöglichen es, viele Gruppen gleichzeitig zu visualisieren und zu vergleichen</li>
<li class="fragment">Box-Plots sind einfach, aber hochinformativ, wurden in den 1970er Jahren von John Tukey entwickelt und gewannen schnell an Popularität, da sie sich einfach per Hand zeichnen ließen</li>
<li class="fragment">Box-Plots werden oft auch als Box-and-Whisker-Plots bezeichnet</li>
</ul>
</section>
<section id="visualisierung-von-verteilungen-3" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="box-plot-1">Box-Plot</h3>
<div class="columns">
<div class="column" style="width:55%;">
<div style="font-size: 0.80em">
<ul>
<li class="fragment">Die Punktewolke illustriert die Verteilung der Y-Werte der Rohdaten</li>
<li class="fragment">Die Linie in der Mitte des Box-Plots repräsentiert den Median, und die Box umschließt die mittleren 50% der Daten</li>
<li class="fragment">Die Obergrenze (Untergrenze) der Box ist damit das obere bzw. untere Quartil</li>
<li class="fragment">Die oberen und unteren sogenannten Whisker erstrecken sich meist bis zum Maximum und Minimum der Daten</li>
<li class="fragment">Alternativ entsprechen die Whisker das 1,5 fache des Interquartilabstands (IQR)<br>
</li>
<li class="fragment">Einzelne Datenpunkte, die über die Grenzen hinausgehen sind Ausreißer bezeichnet und werden als einzelne Punkte dargestellt</li>
</ul>
</div>
</div><div class="column" style="width:45%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/boxplot-schematic-1.png" style="width:100.0%"></p>
<figcaption>Anatomie eines Boxplots Quelle: <span class="citation" data-cites="wilke_fundamentals_2019">Wilke (<a href="#/quellen" role="doc-biblioref" onclick="">2019</a>)</span></figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="visualisierung-von-verteilungen-4" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="box-plot-2">Box-Plot</h3>
<div class="columns">
<div class="column" style="width:55%;">
<div>
<div style="font-size: 0.80em">
<ul>
<li>Die Punktewolke illustriert die Verteilung der Y-Werte der Rohdaten</li>
<li>Die Linie in der Mitte des Box-Plots repräsentiert den Median, und die Box umschließt die mittleren 50% der Daten</li>
<li>Die Obergrenze (Untergrenze) der Box ist damit das obere bzw. untere Quartil</li>
<li>Die oberen und unteren sogenannten Whisker erstrecken sich meist bis zum Maximum und Minimum der Daten</li>
<li>Alternativ entsprechen die Whisker das 1,5 fache des Interquartilabstands (IQR)<br>
</li>
<li>Einzelne Datenpunkte, die über die Grenzen hinausgehen sind Ausreißer bezeichnet und werden als einzelne Punkte dargestellt</li>
</ul>
</div>
</div>
</div><div class="column" style="width:45%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-4-1.png" width="480"></p>
</div>
</div>
</div>
</div>
</section>
<section id="visualisierung-von-verteilungen-5" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="violin-plot">Violin-Plot</h3>
<div class="columns">
<div class="column" style="width:55%;">
<div style="font-size: 0.87em">
<ul>
<li class="fragment">Da händische Zeichnungen heute weniger wichtig sind, werden Boxplots in letzter Zeit verstärkt von Violin-Plots abgelöst.</li>
<li class="fragment">Statt Boxen und Whiskern zeigen Violin-Plots die gesamte Verteilung der Daten entlang der Y-Achse</li>
<li class="fragment">Der dickste Teil des Violins entspricht der höchsten Punktendichte im Datensatz</li>
<li class="fragment">Violins sind symmetrisch und beginnen und enden bei den minimalen und maximalen Datenwerten und vergleichbar mit stetigen Histogrammen, die um 90 Grad gedreht sind</li>
</ul>
</div>
</div><div class="column" style="width:45%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/violin-schematic-1.png" style="width:100.0%"></p>
<figcaption>Anatomie eines Boxplots Quelle: <span class="citation" data-cites="wilke_fundamentals_2019">Wilke (<a href="#/quellen" role="doc-biblioref" onclick="">2019</a>)</span></figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="visualisierung-von-verteilungen-6" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="violin-plot-1">Violin-Plot</h3>
<div class="columns">
<div class="column" style="width:55%;">
<div style="font-size: 0.87em">
<div>
<ul>
<li>Da händische Zeichnungen heute weniger wichtig sind, werden Boxplots in letzter Zeit verstärkt von Violin-Plots abgelöst.</li>
<li>Statt Boxen und Whiskern zeigen Violin-Plots die gesamte Verteilung der Daten entlang der Y-Achse</li>
<li>Der dickste Teil des Violins entspricht der höchsten Punktendichte im Datensatz</li>
<li>Violins sind symmetrisch und beginnen und enden bei den minimalen und maximalen Datenwerten und vergleichbar mit stetigen Histogrammen, die um 90 Grad gedreht sind</li>
</ul>
</div>
</div>
</div><div class="column" style="width:45%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-5-1.png" width="480"></p>
</div>
</div>
</div>
</div>
</section>
<section id="visualisierung-von-verteilungen-7" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="box-plots-mit-superset">Box-Plots mit Superset</h3>
<ul>
<li class="fragment">Superset erlaubt es, Box-Plots direkt zu erstellen, Violin-Plots in der verfügbaren Version jedoch nicht</li>
<li class="fragment">Hierzu wählen wir den üblichen Weg:
<ul>
<li class="fragment">Auf der Startseite oben rechts + Chart</li>
<li class="fragment">Unter Dataset wählen wir “training_logistic”</li>
<li class="fragment">Anschließend suchen wir nach “Box Plot” und wählen es aus</li>
</ul></li>
</ul>
</section>
<section id="visualisierung-von-verteilungen-8" class="slide level2">
<h2>Visualisierung von Verteilungen</h2>
<h3 id="box-plots-mit-superset-1">Box-Plots mit Superset</h3>
<p><img data-src="img/Superset-Boxplot.png" width="800" height="500"></p>
</section>
<section id="logistische-regression" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="trainings--und-testdaten">Trainings- und Testdaten</h3>
<ul>
<li class="fragment">Bevor wir die von Tofispy bereitgestellten Daten analysieren, teilen wir die Daten in Trainings- und Testdaten auf</li>
<li class="fragment">Das ist ein übliches Prozedere, um die Qualität des Modells zu evaluieren und Overfitting zu vermeiden</li>
<li class="fragment">Da der Trainingsdatensatz für das Modelltraining verwendet wird, wählt an oft einen Anteil von 70-80% der Daten für das Training und 20-30% für das Testen</li>
<li class="fragment">In unserem Fall verwenden wir nur 300 Beobachtungen, um die Visualisierungen zum Einstieg nicht zu überfrachten</li>
<li class="fragment">Neben diesen einfachen Splits gibt es auch komplexere Verfahren wie Kreuzvalidierung</li>
</ul>
</section>
<section id="logistische-regression-1" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="binäre-klassifikation-vs.-multiklassen-klassifikation">Binäre Klassifikation vs.&nbsp;Multiklassen-Klassifikation</h3>
<ul>
<li class="fragment">Klassifikationsmodelle können in zwei Kategorien unterteilt werden:
<ul>
<li class="fragment">Binäre Klassifikation: Die abhängige Variable hat nur zwei Kategorien</li>
<li class="fragment">Multiklassen-Klassifikation: Die abhängige Variable hat mehr als zwei Kategorien</li>
</ul></li>
<li class="fragment">In unserem Fall haben wir nur zwei Genres, Klassik und EDM, also eine binäre Klassifikation</li>
<li class="fragment">Da die Intuition hinter der logistischen Regression einfacher zu verstehen ist, beginnen wir mit der binären Klassifikation</li>
</ul>
</section>
<section id="logistische-regression-2" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="zurück-zu-unserer-ausgangsgleichung">Zurück zu unserer Ausgangsgleichung</h3>
<ul>
<li class="fragment">Ausgangspunkt für die logistische Regression ist erneut unsere Grundgleichung <span class="math display">\[
y = f(X) + \epsilon,
\]</span></li>
<li class="fragment">Wie besprochen ist die Variable <span class="math inline">\(y\)</span> bei Klassifikationsproblemen qualitativ oder kategorial</li>
<li class="fragment">Für die binäre logistische Regression erfolgt eine Umkodierung in eine sog. Dummy-Variable, also 0 oder 1, im Sinne von <em>Falsch</em> und <em>Richtig</em></li>
<li class="fragment">Beispiel bei zwei Genres in der Variable <span class="math inline">\(y\)</span>: <span class="math display">\[\begin{equation}
y =
  \begin{cases}
    0 &amp; \text{Song $i$ Klassik,}\\
    1 &amp; \text{Song $i$ EDM}
  \end{cases}       
\end{equation}\]</span></li>
</ul>
</section>
<section id="logistische-regression-3" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="intuition">Intuition</h3>
<div class="columns">
<div class="column" style="width:55%;">
<div style="font-size: 0.87em">
<ul>
<li class="fragment">Die Wahl der Kodierung ist theoretisch willkürlich, aber aus praktischer Sicht ist es sinnvoll, die Kategorie, die interessante Kategorie als 1 zu kodieren</li>
<li class="fragment">Als erklärende Variable <span class="math inline">\(X\)</span> können wir beliebig viele Features verwenden, wir beschränken uns aber zunächst auf eine, nämlich <em>Energy</em></li>
<li class="fragment">Nach der Umkodierung der abhängigen Variable <span class="math inline">\(y\)</span> sehen unsere Daten aus wie der Auszug rechts</li>
<li class="fragment">Unser Ziel ist es, die <strong>Wahrscheinlichkeit</strong> zu berechnen, mit der ein Song EDM ist, gegeben die Energy</li>
</ul>
</div>
</div><div class="column" style="width:45%;">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">edm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">energy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.1920</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.7250</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.9320</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.7470</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.9220</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0741</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0026</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0592</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0162</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.2510</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-4" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="intuition-1">Intuition</h3>
<ul>
<li class="fragment">Noch intuitiver wird der Zusammenhang, wenn wir die Daten visualisieren mit der abhängigen Variable <em>EDM</em> auf der Y-Achse und der unabhängigen Variable <em>Energy</em> auf der X-Achse</li>
</ul>
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-7-1.png" width="768"></p>
<figcaption>Scatter Plot mit Dummy Variable als abhängiger Variable. Eigene Darstellung</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-5" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="warum-nicht-einfach-lineare-regression">Warum nicht einfach lineare Regression?</h3>
<div style="font-size: 0.80em">
<ul>
<li class="fragment">Eine lineare Regression ist erste Option, den Zusammenhang zu modellieren</li>
<li class="fragment">Wir erhalten folgende Koeffizienten:</li>
</ul>
</div>
<div style="font-size: 0.8em">
<div class="fragment fade-in">
<p><span class="math display">\[
\operatorname{\widehat{EDM}} = -0.1 + 1.24 \cdot \text{Energy}
\]</span></p>
</div>
</div>
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="logistische-regression-6" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="warum-nicht-einfach-lineare-regression-1">Warum nicht einfach lineare Regression?</h3>
<ul>
<li class="fragment">Das lineare Modell erstellt auf der blauen Geraden nun eine Prognose für die Wahrscheinlichkeit, dass ein Song EDM ist und modelliert den Zusammenhang zwischen <span class="math inline">\(y\)</span> und <span class="math inline">\(X\)</span> mit <span class="math display">\[
y = \beta_0 + \beta_1 \cdot X
\]</span></li>
<li class="fragment">Diese Prognose ist aus mehreren Gründen nicht sinnvoll:
<ul>
<li class="fragment">Die Prognose kann Werte außerhalb des Intervalls <span class="math inline">\([0,1]\)</span> annehmen</li>
<li class="fragment">Wie kann man ein Modell mit mehr als 2 Klassen darstellen, bei denen es keine natürliche Ordnung gibt?</li>
</ul></li>
</ul>
</section>
<section id="logistische-regression-7" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="die-logistische-funktion">Die Logistische Funktion</h3>
<div style="font-size: 0.8em">
<ul>
<li class="fragment">Die logistische Funktion ist eine Sigmoid-Funktion, die Werte zwischen 0 und 1 annimmt und eine S-Form aufweist und damit das erste Problem behebt</li>
<li class="fragment">Sigmoid Funktionen garantieren, dass alle vorgehersagten Wahrscheinlichkeiten zwischen 0 und 1 liegen, auch wenn die unabhängige Variable <span class="math inline">\(X\)</span> sehr groß oder sehr klein ist</li>
</ul>
</div>
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-10-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="logistische-regression-8" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="die-logistische-funktion-1">Die Logistische Funktion</h3>
<ul>
<li class="fragment">Die logistische Regression modelliert die Wahrscheinlichkeit, dass <span class="math inline">\(y\)</span> eine bestimmte Kategorie annimmt: <span class="math display">\[
P(y = 1|X) = \frac{ e^{(\beta_0 + \beta_1 \cdot X)}}{1 + e^{(\beta_0 + \beta_1 \cdot X)}}
\]</span></li>
<li class="fragment">wobei <span class="math inline">\(P(y = 1|X)\)</span> die Wahrscheinlichkeit ist, dass <span class="math inline">\(y\)</span> die Kategorie 1 annimmt, also EDM ist, gegeben einen Wert für <span class="math inline">\(X\)</span>, in unserem Fall <em>Energy</em></li>
<li class="fragment">Das finale Modell sieht dann aus wie folgt: <span class="math display">\[
P(EDM = 1|Energy) = \frac{ e^{(\beta_0 + \beta_1 \cdot \text{Energy})}}{1 + e^{(\beta_0 + \beta_1 \cdot \text{Energy})}}
\]</span></li>
</ul>
</section>
<section id="logistische-regression-9" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="ergebnis-der-logistischen-regression">Ergebnis der logistischen Regression</h3>
<ul>
<li class="fragment">Wenn wir statt des linearen Modells ein logistisches Modell verwenden, erhalten wir folgenden Zusammenhang zwischen Energy und der Wahrscheinlichkeit, dass ein Song zum Genre EDM gehört:</li>
</ul>
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-11-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="logistische-regression-10" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="ergebnis-der-logistischen-regression-1">Ergebnis der logistischen Regression</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div style="font-size: 0.85em">
<ul>
<li class="fragment">Aus dem Modell erhalten für für jeden Wert von Energy eine Wahrscheinlichkeit, dass ein Song EDM ist</li>
<li class="fragment">Die Wahrscheinlichkeit steigt (sinkt) mit steigender Energy und nähert sich 1 (0) an</li>
<li class="fragment">Die Steigung der Kurve ist in der Mitte am größten und nimmt zu den Rändern hin ab und die Kurve hat die typische S-Form</li>
<li class="fragment">Die Tabelle rechts zeigt die Wahrscheinlichkeiten für 10 zufällig ausgewählte Songs, sortiert nach der Wahrscheinlichkeit</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<div style="font-size: 0.45em">
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">energy</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">track.name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">track.artist</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">category</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p_edm</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.255</td>
<td style="text-align: left;">Naruto: Alone Theme</td>
<td style="text-align: left;">Toshio Masuda</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.012</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.285</td>
<td style="text-align: left;">The Wife</td>
<td style="text-align: left;">Jocelyn Pook</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.022</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.323</td>
<td style="text-align: left;">bad guy</td>
<td style="text-align: left;">Vitamin String Quartet</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.048</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.433</td>
<td style="text-align: left;">MIDNIGHT</td>
<td style="text-align: left;">PLAYAMANE</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.343</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.570</td>
<td style="text-align: left;">CNTRTE</td>
<td style="text-align: left;">AQUIHAYAQUIHAY</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.907</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.628</td>
<td style="text-align: left;">I'll Take That Back</td>
<td style="text-align: left;">Avangart Tabldot</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.971</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.629</td>
<td style="text-align: left;">OneHundred</td>
<td style="text-align: left;">HEDEGAARD</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.972</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.636</td>
<td style="text-align: left;">Etude No. 9</td>
<td style="text-align: left;">Kummerspeck</td>
<td style="text-align: left;">Klassik</td>
<td style="text-align: right;">0.975</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.680</td>
<td style="text-align: left;">Now</td>
<td style="text-align: left;">Niklas Dee</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.990</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.690</td>
<td style="text-align: left;">Me Provocas</td>
<td style="text-align: left;">Fumaratto</td>
<td style="text-align: left;">EDM</td>
<td style="text-align: right;">0.992</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="logistische-regression-11" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="generierung-von-prognosen">Generierung von Prognosen</h3>
<ul>
<li class="fragment">Aus dem Modell erhalten wir eine Schätzung für die beiden Koeffizienten <span class="math inline">\(\beta_0\)</span> und <span class="math inline">\(\beta_1\)</span></li>
<li class="fragment">Das gefittete Modell hat folgende Koeffizienten:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
\hat{P}(EDM = 1|Energy) = \frac{ e^{(-9.89 + 21.34 \cdot \text{Energy})}}{1 + e^{(-9.89 +  21.34\cdot \text{Energy})}}
\]</span></p>
</div>
<ul>
<li class="fragment">Durch einfaches Einsetzen des jeweiligen Energy-Wertes erhalten wir die Wahrscheinlichkeit gibt das Modell eine entsprechende Prognose aus</li>
</ul>
</section>
<section id="logistische-regression-12" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="von-wahrscheinlichkeiten-zu-klassifikationen">Von Wahrscheinlichkeiten zu Klassifikationen</h3>
<div style="font-size: 0.95em">
<ul>
<li class="fragment">Bisher haben wir nur eine Wahrscheinlichkeit für die Klassenzugehörigkeit von Song <span class="math inline">\(i\)</span> berechnet, gegeben den Wert für Energy, also</li>
</ul>
<div class="fragment fade-in">
<div style="font-size: 0.75em">
<p><span class="math display">\[
P(\text{EDM}_i = 1|\text{X = Energy}_i)
\]</span></p>
</div>
</div>
<ul>
<li class="fragment">Im binären Klassifikationsmodell wird ein Schwellenwert oder Cut-Off Point <span class="math inline">\(C\)</span> festgelegt, der bestimmt, ob ein Song als EDM klassifiziert wird oder nicht</li>
<li class="fragment">Die Zuordnung folgt dann allgemein nach der Form:</li>
</ul>
<div class="fragment fade-in">
<div style="font-size: 0.75em">
<p><span class="math display">\[\begin{equation}
  \text{Klasse} =
    \begin{cases}
      0 &amp; \text{wenn } P(y_i = 1|X= x_i) \leq C \\
      1 &amp; \text{wenn } P(y_i = 1|X= x_i) &gt; C
    \end{cases}       
\end{equation}\]</span></p>
</div>
</div>
<ul>
<li class="fragment">Ein häufig anzutreffender Default-Wert ist <span class="math inline">\(C=0.5\)</span></li>
</ul>
</div>
</section>
<section id="logistische-regression-13" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="ergebnis-und-evaluation">Ergebnis und Evaluation</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div style="font-size: 0.90em">
<ul>
<li class="fragment">Mit dem Default-Wert <span class="math inline">\(C=0.5\)</span> erhalten wir die rechts dargestellten Klassifikationen für die 10 Beispiel-Songs</li>
<li class="fragment">Mit den generierten Klassifikationen lassen sich nun verschiedene Metriken berechnen, um die Qualität des Modells zu bewerten</li>
<li class="fragment">Die einfachste Metrik ist die <strong>Accuracy</strong>, die den Anteil der korrekt klassifizierten Songs angibt</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<div style="font-size: 0.45em">
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">energy</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">track.name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">track.artist</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">edm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p_edm</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.pred_class</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.255</td>
<td style="text-align: left;">Naruto: Alone Theme</td>
<td style="text-align: left;">Toshio Masuda</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">0.012</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.285</td>
<td style="text-align: left;">The Wife</td>
<td style="text-align: left;">Jocelyn Pook</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">0.022</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.323</td>
<td style="text-align: left;">bad guy</td>
<td style="text-align: left;">Vitamin String Quartet</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">0.048</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.433</td>
<td style="text-align: left;">MIDNIGHT</td>
<td style="text-align: left;">PLAYAMANE</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">0.343</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.570</td>
<td style="text-align: left;">CNTRTE</td>
<td style="text-align: left;">AQUIHAYAQUIHAY</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">0.907</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.628</td>
<td style="text-align: left;">I'll Take That Back</td>
<td style="text-align: left;">Avangart Tabldot</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">0.971</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.629</td>
<td style="text-align: left;">OneHundred</td>
<td style="text-align: left;">HEDEGAARD</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">0.972</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.636</td>
<td style="text-align: left;">Etude No. 9</td>
<td style="text-align: left;">Kummerspeck</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">0.975</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.680</td>
<td style="text-align: left;">Now</td>
<td style="text-align: left;">Niklas Dee</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">0.990</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.690</td>
<td style="text-align: left;">Me Provocas</td>
<td style="text-align: left;">Fumaratto</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">0.992</td>
<td style="text-align: left;">1</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="modellevaluation" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="konfusionsmatrix">Konfusionsmatrix</h3>
<div style="font-size: 0.8em">
<ul>
<li class="fragment">Zur Berechnung der Modellgüte wird die sog. Konfusionsmatrix verwendet, die die Anzahl der korrekt und inkorrekt klassifizierten Beobachtungen zusammenfasst</li>
<li class="fragment">Im binären Modell gilt:
<ul>
<li class="fragment">positiv: Beobachtung <span class="math inline">\(i\)</span> gehört zur interessanten Klasse (in unserem Fall EDM)</li>
<li class="fragment">negativ: Beobachtung <span class="math inline">\(i\)</span> gehört nicht dazu</li>
</ul></li>
</ul>
<div class="fragment fade-in">
<table style="width:100%;">
<colgroup>
<col style="width: 25%">
<col style="width: 26%">
<col style="width: 26%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Tatsächlich Positiv</th>
<th>Tatsächlich Negativ</th>
<th>Summe Vorhersage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Vorhergesagt Positiv</strong></td>
<td>True Positive (TP)</td>
<td>False Positive (FP)</td>
<td>Summe Positiv</td>
</tr>
<tr class="even">
<td><strong>Vorhergesagt Negativ</strong></td>
<td>False Negative (FN)</td>
<td>True Negative (TN)</td>
<td>Summe Negativ</td>
</tr>
<tr class="odd">
<td><strong>Summe Tatsächlich</strong></td>
<td>Summe Positiv Tats.</td>
<td>Summe Negativ Tats.</td>
<td>Gesamtsumme</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="modellevaluation-1" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="konfusionsmatrix-1">Konfusionsmatrix</h3>
<div style="font-size: 0.8em">
<table>
<thead>
<tr class="header">
<th></th>
<th>Tatsächlich Positiv</th>
<th>Tatsächlich Negativ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Vorhergesagt Positiv</strong></td>
<td>True Positive (TP)</td>
<td>False Positive (FP)</td>
</tr>
<tr class="even">
<td><strong>Vorhergesagt Negativ</strong></td>
<td>False Negative (FN)</td>
<td>True Negative (TN)</td>
</tr>
</tbody>
</table>
<ul>
<li class="fragment"><strong>True Positive (TP)</strong>: Ein TP liegt vor, wenn das Modell ein Objekt korrekt der relevanten Klasse zuordnet. Beispiele hierfür sind die korrekte Identifikation eines Schadens, die richtige Diagnose einer Krankheit oder die richtige Erkennung von Spam.</li>
<li class="fragment"><strong>False Positive (FP)</strong>: Ein FP liegt vor, wenn das Modell ein Objekt fälschlicherweise als positiv bzw. relevant klassifiziert, obwohl es tatsächlich negativ ist. Beispiele hierfür sind die Meldung eines nicht vorhandenen Schadens oder die Diagnose einer nicht existierenden Krankheit. FP wird auch als Typ-I Fehler oder Alpha-Fehler bezeichnet.</li>
</ul>
</div>
</section>
<section id="modellevaluation-2" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="konfusionsmatrix-2">Konfusionsmatrix</h3>
<div style="font-size: 0.8em">
<table>
<thead>
<tr class="header">
<th></th>
<th>Tatsächlich Positiv</th>
<th>Tatsächlich Negativ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Vorhergesagt Positiv</strong></td>
<td>True Positive (TP)</td>
<td>False Positive (FP)</td>
</tr>
<tr class="even">
<td><strong>Vorhergesagt Negativ</strong></td>
<td>False Negative (FN)</td>
<td>True Negative (TN)</td>
</tr>
</tbody>
</table>
<ul>
<li class="fragment"><strong>True Negative (TN)</strong>: Ein TN liegt vor, wenn das Modell ein Objekt korrekt als negativ, also nicht der relevanten Klasse zugehörig klassifiziert. Beispiele hierfür sind die korrekte Identifikation eines funktionsfähigen Teils oder die richtige Klassifizierung einer Person als gesund.</li>
<li class="fragment"><strong>False Negative (FN)</strong>: Ein FN liegt vor, wenn das Modell ein Objekt falsch als negativ klassifiziert, obwohl es tatsächlich positiv – also relevant – ist. Synonyme hierfür sind Typ-II Fehler oder Beta-Fehler. Beispiele: die ausbleibende Meldung eines aufgetretenen Schadens oder die falsche Nicht-Diagnose einer existierenden Krankheit</li>
</ul>
</div>
</section>
<section id="modellevaluation-3" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="konfusionsmatrix-im-beispiel-und-berechnung-der-accuracy">Konfusionsmatrix im Beispiel und Berechnung der Accuracy</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment">Unser einfaches Modell zeigt die rechts dargestellte Konfusionsmatrix</li>
<li class="fragment">Aus den vier Quadranten lässt sich dann die Accuracy berechnen:</li>
</ul>
<div style="font-size: 0.8em">
<div class="fragment fade-in">
<p><span class="math display">\[
\text{Accuracy} = \frac{TP + TN}{TP + TN + FP + FN}
\]</span> <span class="math display">\[
= \frac{156 + 140}{156 + 140 + 2 + 2} = 0.987
\]</span></p>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-15-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="modellevaluation-4" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="vor--und-nachteile-der-accuracy">Vor- und Nachteile der Accuracy</h3>
<ul>
<li class="fragment">Die Accuracy ist eine einfache und intuitive Metrik, die den Anteil der korrekt klassifizierten Beobachtungen angibt</li>
<li class="fragment">Allerdings sollte die Accuracy nur bei einem ausgewogenen Datensatz verwendet werden</li>
<li class="fragment">Ausgewogen oder balanciert bedeutet hier, dass die Anzahl der Beobachtungen in den Klassen ungefähr gleich ist</li>
<li class="fragment">Im einfachen Beispiel hier ist das der Fall, weshalb die Accuracy ausreichend ist</li>
</ul>
</section>
<section id="modellevaluation-5" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="accuracy-bei-unbalancierten-datensätzen">Accuracy bei unbalancierten Datensätzen</h3>
<div class="columns">
<div class="column" style="width:55%;">
<ul>
<li class="fragment">In der Praxis liegen häufig unbalancierte Datensätze vor, sodass die Accuracy allein meist nur geringe Aussagekraft hat</li>
<li class="fragment">Wir nehmen ein extremes Beispiel mit 1000 E-Mails, von denen 100 Spam-Mails sind</li>
<li class="fragment">Unser Modell zur Spam-Erkennung liefert die Konfusionsmatrix rechts</li>
<li class="fragment">Das Modell erkennt nur eine Spam-Nachricht, erreicht jedoch eine Accuracy von über 90%, weil die Zahl der TN sehr hoch ist</li>
</ul>
</div><div class="column" style="width:45%;">
<div style="font-size: 0.6em">
<table style="width:100%;">
<colgroup>
<col style="width: 25%">
<col style="width: 26%">
<col style="width: 26%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Tatsächlich Positiv</th>
<th>Tatsächlich Negativ</th>
<th>Summe Vorhersage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Vorhergesagt Positiv</strong></td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td><strong>Vorhergesagt Negativ</strong></td>
<td>99</td>
<td>900</td>
<td>999</td>
</tr>
<tr class="odd">
<td><strong>Summe Tatsächlich</strong></td>
<td>100</td>
<td>900</td>
<td>1000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="logistische-regression-14" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="interaktive-visualisierung">Interaktive Visualisierung</h3>
<ul>
<li class="fragment"><p>Für eine bessere Intuition hinter den Konzepten der logistischen Regression und der Konfusionsmatrix gibt es eine interaktive Visualisierung als Shiny App</p></li>
<li class="fragment"><p>Erreichbar über:</p>
<ul>
<li class="fragment"><a href="https://bi-and-ds-logistic-regression-qkwupfgvpq-ey.a.run.app/">https://bi-and-ds-logistic-regression-qkwupfgvpq-ey.a.run.app/</a></li>
</ul></li>
<li class="fragment"><p>Alternativ Download der R-Files von StudIP und Ausführung in RStudio nach Installation der notwendigen Packages im Script <code>install_packages.R</code></p></li>
<li class="fragment"><p>Frage: Welche Auswirkungen hat eine Änderung des Cut-Off Points auf die Konfusionsmatrix und die Accuracy? Welche ist die bestmöglich Accuracy?</p></li>
</ul>
</section>
<section id="modellevaluation-6" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="precision">Precision</h3>
<div style="font-size: 0.85em">
<ul>
<li class="fragment">Andere Metriken beheben die Schwächen der Accuracy</li>
<li class="fragment">Precision oder Präzision gibt an, wie viele der vom Klassifikator als positiv identifizierten Fälle tatsächlich positiv sind und entspricht dem Anteil der tatsächlich positiven Fälle an der Menge aller als positiv klassifizierten Fälle</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[\text{Precision} = \frac{\text{TP}}{\text{TP + FP}}\]</span></p>
</div>
<ul>
<li class="fragment">Welcher Anteil der positiven Identifikationen war tatsächlich korrekt? Oder: Wenn das Modell einen Datenpunkt positiv klassifiziert, wie wahrscheinlich ist es, dass diese Klassifikation richtig ist?</li>
<li class="fragment">Eine hohe Precision bedeutet also, dass der Klassifikator nur wenige irrelevante Fälle als relevant einstuft und ein Klassifikator mit einer Precision von 1,0 liefert keine FP.</li>
</ul>
</div>
</section>
<section id="modellevaluation-7" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="recall">Recall</h3>
<div style="font-size: 0.85em">
<ul>
<li class="fragment"><strong>Recall</strong> hingegen gibt an, wie viele der tatsächlich positiven Fälle vom Klassifikator als positiv bzw. relevant erkannt wurden:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[\text{Recall} = \frac{\text{TP}}{\text{TP + FN}}\]</span></p>
</div>
<ul>
<li class="fragment">Ein hoher Recall-Wert bedeutet, dass der Klassifikator viele relevante Fälle erkennt und beantwortet die Frage, welcher Anteil der positiven Ergebnisse richtig identifiziert wurde.</li>
<li class="fragment">Wie wahrscheinlich ist es, dass das Modell einen positiven Datenpunkt erkennt?</li>
<li class="fragment">Auch häufig als Sensitivität oder True Positive Rate bezeichnet</li>
</ul>
</div>
</section>
<section id="modellevaluation-8" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="precision-und-recall">Precision und Recall</h3>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Visualizing-accuracy-recall-aka-sensitivity-and-precision-which-are-the-common.png" style="width:72.0%"></p>
<figcaption>Illustration Precision, Recall, Accuracy, Quelle: <span class="citation" data-cites="maleki_overview_2020">Maleki u.&nbsp;a. (<a href="#/quellen" role="doc-biblioref" onclick="">2020</a>)</span></figcaption>
</figure>
</div>
</section>
<section id="modellevaluation-9" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="precision-und-recall-für-den-spam-filter">Precision und Recall für den Spam-Filter</h3>
<div class="columns">
<div class="column" style="width:55%;">
<div style="font-size: 0.85em">
<ul>
<li class="fragment">Um Precision und Recall bei unausgewogenen Datensätzen zu illustrieren, betrachten wir erneut den Spam-Filter</li>
<li class="fragment">Für Precision erhalten wir</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[\text{Precision} = \frac{\text{1}}{\text{1 + 0}} = 1\]</span></p>
</div>
<ul>
<li class="fragment">Für Recall ergibt sich</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[\text{Recall} = \frac{\text{1}}{\text{1 + 99}} = 0,01.\]</span></p>
</div>
</div>
</div><div class="column" style="width:45%;">
<div style="font-size: 0.6em">
<table style="width:100%;">
<colgroup>
<col style="width: 25%">
<col style="width: 26%">
<col style="width: 26%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Tatsächlich Positiv</th>
<th>Tatsächlich Negativ</th>
<th>Summe Vorhersage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Vorhergesagt Positiv</strong></td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td><strong>Vorhergesagt Negativ</strong></td>
<td>99</td>
<td>900</td>
<td>999</td>
</tr>
<tr class="odd">
<td><strong>Summe Tatsächlich</strong></td>
<td>100</td>
<td>900</td>
<td>1000</td>
</tr>
</tbody>
</table>
</div>
<div style="font-size: 0.8em">
<ul>
<li class="fragment">Wenn das Modell eine Mail als Spam klassifiziert, ist diese Prognose zu 100% korrekt</li>
<li class="fragment">Das Modell erkennt aber nur 1% der tatsächlichen Spam-Mails.</li>
</ul>
</div>
</div>
</div>
</section>
<section id="modellevaluation-10" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="precision-und-recall-für-den-spam-filter-1">Precision und Recall für den Spam-Filter</h3>
<ul>
<li class="fragment">Welches Maß ist nun das Richtige?</li>
</ul>
<ol type="1">
<li class="fragment">Wenn ein balancierter Datensatz vorliegt, kann Accuracy bedenkenlos verwendet werden, um das Modell zu evaluieren</li>
<li class="fragment">Wenn wir sicher sein wollen, dass eine positive Vorhersage korrekt ist, dann ist Precision die angemessene Evaluationsmetrik. Dies ist oft der Fall, wenn FP mit höheren Kosten verbunden sind, als FN.</li>
<li class="fragment">Wenn es wichtig ist, so viele positive Fälle wie möglich zu identifizieren, sollte ein Modell mit hohem Recall verwendet werden. In diesem Fall sind die Kosten von FN besonders hoch, sodass es besser ist, einige Fälle fälschlicherweise negativ zu klassifizieren, als dass uns tatsächlich positive Fälle durch die Lappen gehen</li>
</ol>
</section>
<section id="modellevaluation-11" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="f1-score">F1-Score</h3>
<ul>
<li class="fragment">Oft sind Kosten und Nutzen von FP und FN Klassifikationen nicht eindeutig</li>
<li class="fragment">Der F1 Score kompensiert die Nachteile der Accuracy bei unbalancierten Datensätzen zu kompensieren und legt gleichzeitig einen ausgewogenen Fokus auf Precision und Recall:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
F1 = 2 \cdot \frac{\text{Precision} \cdot \text{Recall}}{\text{Precision} + \text{Recall}}
\]</span></p>
</div>
<ul>
<li class="fragment">F1 ist das harmonische Mittel von Precision und Recall und liegt zwischen 0 und 1</li>
</ul>
</section>
<section id="modellevaluation-12" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="f1-score-1">F1-Score</h3>
<ul>
<li class="fragment">Im Spam Beispiel:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
F1 = 2 \cdot \frac{\text{1} \cdot \text{0,01}}{\text{1} + \text{0,01}}= 0,0198
\]</span></p>
</div>
<ul>
<li class="fragment">Dieser Wert ist deutlich niedriger, als uns die 90,1% Accuracy zunächst suggerieren.</li>
<li class="fragment">Trotzdem ist das Beispielmodell nahezu nutzlos, wie anhand des niedrigen F1-Scores erkennbar wird.</li>
</ul>
</section>
<section id="modellevaluation-13" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="abschließende-bemerkungen">Abschließende Bemerkungen</h3>
<ul>
<li class="fragment">Bei einem balancierten Datensatz <strong>und</strong> gleicher Gewichtung von FP und FN ist die Accuracy die einfachste und intuitivste Metrik</li>
<li class="fragment">Bei unbalancierten Datensätzen oder unterschiedlichen Kosten von FP und FN sollten Precision, Recall und F1-Score verwendet werden</li>
<li class="fragment">Wenn FP höhere Kosten haben, dann sollte Precision im Fokus stehen</li>
<li class="fragment">Wenn FN höhere haben, dann sollte Recall im Fokus stehen</li>
</ul>
</section>
<section id="modellevaluation-14" class="slide level2">
<h2>Modellevaluation</h2>
<h3 id="kosten-von-fp-und-fn">Kosten von FP und FN</h3>
<ul>
<li class="fragment"><p>Die meisten Klassifikationsmethoden basieren auf der Annahme, dass FP und FN gleich problematisch sind</p></li>
<li class="fragment"><p>In praktischen Szenarios ist dies jedoch selten der Fall, Beispiel:</p></li>
<li class="fragment"><p>Betrugserkennung: Eine Haftpflichtversicherung prüft Schadensmeldungen mit ML. Das Modell soll den Schaden automatisch abwickelnd und entweder als “Zahlung” oder “Keine Zahlung” klassifizieren, je nachdem ob ein Betrugsversuch vorliegt</p></li>
<li class="fragment"><p>Fragen:</p>
<ul>
<li class="fragment">Was ist die positive (interessante) Klasse aus Sicht der Versicherung?</li>
<li class="fragment">Welche Fälle sind dann FN und FP?</li>
<li class="fragment">Welche Fehlklassifikation ist teurer? Welches Maß sollte für das Modell maximiert werden?</li>
</ul></li>
</ul>
<aside class="notes">
<p>Antworten: * Die interessante Klasse ist die Zahlung des Schadens * FN: Die Forderung ist berechtigt, aber die Versicherung zahlt nicht * FP: Die Forderung ist unberechtigt, aber die Versicherung zahlt * FP ist teurer, da die Versicherung zahlen muss, deshalb sollte Precision im Vordergrund stehen</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<!-- ## Modellevaluation -->
<!-- ### Kosten von FP und FN -->
<!-- 2. Identifikation einer ansteckenden Krankheit: Ein medizinisches Modell identifiziert eine ansteckende Krankheit mit der Eingabe weniger Symptome. Anschließend wird die Person isoliert und umfänglich getestet -->
<!-- * Fragen:  -->
<!--   * Was ist die interessante Klasse aus Sicht einer Gesundheitsbehörde? -->
<!--   * Welche Fälle sind dann FN und FP? -->
<!--   * Welche Fehlklassifikation ist teurer? Welches Maß sollte für das Modell maximiert werden? -->
<!-- ::: {.notes} -->
<!-- Antworten: -->
<!--   * Die interessante Klasse ist die Identifikation der Krankheit -->
<!--   * FN: Die Person ist krank, wird aber nicht isoliert -->
<!--   * FP: Die Person ist nicht krank, wird aber isoliert -->
<!--   * FN ist teurer, da die Krankheit weiterverbreitet wird, deshalb sollte das Modell einen hohen Recall haben -->
<!-- ::: -->
</section>
<section id="logistische-regression-15" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="verhältnis-von-precision-und-recall">Verhältnis von Precision und Recall</h3>
<ul>
<li class="fragment"><p>Für eine bessere Intuition hinter den Konzepten der logistischen Regression und der Konfusionsmatrix gibt es eine interaktive Visualisierung als Shiny App</p></li>
<li class="fragment"><p>Erreichbar über:</p>
<ul>
<li class="fragment"><a href="https://bi-and-ds-logistic-regression-qkwupfgvpq-ey.a.run.app/">https://bi-and-ds-logistic-regression-qkwupfgvpq-ey.a.run.app/</a></li>
</ul></li>
<li class="fragment"><p>Alternativ Download der R-Files von StudIP und Ausführung in RStudio nach Installation der notwendigen Packages im Script <code>install_packages.R</code></p></li>
<li class="fragment"><p>Frage: Welche Auswirkungen hat eine Änderung des Cut-Off Points auf die Konfusionsmatrix und die Accuracy? Welche ist die bestmöglich Accuracy?</p></li>
</ul>
</section>
<section id="logistische-regression-16" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="mehrere-unabhängige-variablen">Mehrere unabhängige Variablen</h3>
<div style="font-size: 0.8em">
<ul>
<li class="fragment">Bisher haben wir nur eine unabhängige Variable, Energy, betrachtet</li>
<li class="fragment">Da die Aufteilung jedoch nicht perfekt war, ist es sinnvoll, weitere Features zu verwenden, bspw. Danceability</li>
<li class="fragment">Allgemein hat das logistische Modell mit mehreren unabhängigen Variablen die Form:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
P(y = 1|X) = \frac{ e^{(\beta_0 + \beta_1 \cdot X_1 + \beta_2 \cdot X_2 + \ldots + \beta_P \cdot X_P)}}{1 + e^{(\beta_0 + \beta_1 \cdot X_1 + \beta_2 \cdot X_2 + \ldots + \beta_P \cdot X_P)}}
\]</span></p>
</div>
<ul>
<li class="fragment">Mit den beiden Variablen Energy und Danceability erhalten wir folgendes Modell:</li>
</ul>
<div class="fragment fade-in">
<p><span class="math display">\[
P(EDM = 1|\text{Energy, Danceability}) = \frac{ e^{(\beta_0 + \beta_1 \cdot \text{Energy} + \beta_2 \cdot \text{Danceability})}}{1 + e^{(\beta_0 + \beta_1 \cdot \text{Energy} + \beta_2 \cdot \text{Danceability})}}
\]</span></p>
</div>
</div>
</section>
<section id="logistische-regression-17" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="mehrere-unabhängige-variablen-1">Mehrere unabhängige Variablen</h3>
</section>
<section id="logistische-regression-18" class="slide level2">
<h2>Logistische Regression</h2>
<h3 id="mehrere-unabhängige-variablen-2">Mehrere unabhängige Variablen</h3>
<div class="columns">
<div class="column" style="width:55%;">
<ul>
<li class="fragment">Für das Modell mit zwei Variablen erhalten wir die Konfusionsmatrix auf der rechten Seite.</li>
<li class="fragment">Accuracy, Precision, Recall und F1-Score sind:</li>
</ul>
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Metric</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">accuracy</td>
<td style="text-align: right;">0.9933</td>
</tr>
<tr class="even">
<td style="text-align: left;">recall</td>
<td style="text-align: right;">0.9930</td>
</tr>
<tr class="odd">
<td style="text-align: left;">precision</td>
<td style="text-align: right;">0.9930</td>
</tr>
<tr class="even">
<td style="text-align: left;">f_meas</td>
<td style="text-align: right;">0.9930</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div><div class="column" style="width:45%;">
<div class="fragment fade-in">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="06_VL_D_files/figure-revealjs/unnamed-chunk-18-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</div>
<!-- ## Logistische Regression -->
<!-- ### Mehrklassen-Klassifikation -->
<!-- * Auch bei mehreren unabhängigen Variablen bleibt die logistische Regression ein binäres Modell -->
<!-- * Zur Erweiterung auf $K>2$ Klassen wird die multinomiale logistische Regression verwendet, bei der zunächst eine Referenz- oder Baseline-Klasse festgelegt wird -->
<!-- * Zur Schätzung der Koeffizienten werden anschließend alle $K-1$ Klassen paarweise separat gegen die Referenzklasse regressiert -->
<!-- * Anschließend lassen sich die Klassenzugehörigkeiten ähnlich wie im binären Modell vorhersagen -->
<!-- ## Logistische Regression -->
<!-- ### Mehrklassen-Klassifikation -->
<!-- ::: {style="font-size: 0.9em"} -->
<!-- * Für die Klassen $k = 1, ..., K-1$ geschieht dies mit -->
<!-- $$ -->
<!-- p(y_i = k|X = x) = \frac{e^{\beta_{k0} + \beta_{k1}x_1 + ... + \beta_{kp}x_p}}{1+\sum_{l=1}^{K-1} e^{\beta_{l0} + \beta_{l1}x_1 + ... + \beta_{lp}x_p} } -->
<!-- $$ -->
<!-- und für die Referenzklasse $K$ mit -->
<!-- $$ -->
<!-- p(y_i = k|X = x) = \frac{1}{1+\sum_{l=1}^{K-1} e^{\beta_{l0} + \beta_{l1}x_1 + ... + \beta_{lp}x_p} } -->
<!-- $$ -->
<!-- * Dabei sind $\beta_{k0}, ..., \beta_{kp}$ die Koeffizienten für die Klasse $k$ und $x_1, ..., x_p$ die unabhängigen Variablen -->
<!-- ::: -->
<!-- ## Logistische Regression -->
<!-- ### Beispiel -->
</section>

<section id="quellen" class="slide level2 smaller scrollable">
<h2>Quellen</h2>

<div class="footer footer-default">
<p>Business Intelligence &amp; Data Science, SoSe 2024</p>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-james_introduction_2021" class="csl-entry" role="listitem">
James, Gareth, Daniela Witten, Trevor Hastie, und Robert Tibshirani. 2021. <em>An Introduction to Statistical Learning: with Applications in R</em>. Second edition. Springer texts in statistics. New York <span>NY</span>: Springer. <a href="https://doi.org/10.1007/978-1-0716-1418-1">https://doi.org/10.1007/978-1-0716-1418-1</a>.
</div>
<div id="ref-maleki_overview_2020" class="csl-entry" role="listitem">
Maleki, Farhad, Katie Ovens, Keyhan Najafian, Behzad Forghani, Caroline Md, und Reza Forghani. 2020. <span>„Overview of Machine Learning Part 1“</span>. <em>Neuroimaging Clinics of North America</em> 30 (November): e17–32. <a href="https://doi.org/10.1016/j.nic.2020.08.007">https://doi.org/10.1016/j.nic.2020.08.007</a>.
</div>
<div id="ref-wilke_fundamentals_2019" class="csl-entry" role="listitem">
Wilke, C. 2019. <em>Fundamentals of data visualization: a primer on making informative and compelling figures</em>. First edition. Sebastopol, CA: O’Reilly Media. <a href="https://clauswilke.com/dataviz/">https://clauswilke.com/dataviz/</a>.
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Kopiert");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Kopiert");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>